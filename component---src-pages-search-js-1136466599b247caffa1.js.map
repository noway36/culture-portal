{"version":3,"sources":["webpack:///./src/components/Main/SearchPage/SearchLine/SearchLine.js","webpack:///./src/components/Main/SearchPage/PhotographersList/PhotographersList.js","webpack:///./src/components/Main/SearchPage/SearchPage.js","webpack:///./src/pages/search.js"],"names":["SearchLine","props","searchFio","t","useTranslation","react_default","a","createElement","className","type","placeholder","onChange","Photographers","_this","_React$Component","call","this","searchQuery","personsList","data","componentWillReceiveProps","nextProps","_this2","currentLanguage","i18n","language","searchKey","searchKeyPlace","filter","person","toLowerCase","indexOf","yearOfBirth","length","link","fioRus","render","map","key","gatsby_browser_entry","to","es","fioEng","React","Component","defaultProps","withTranslation","SearchPage","state","bind","_assertThisInitialized","evt","preventDefault","target","value","setState","Fragment","SearchPage_SearchLine_SearchLine","PhotographersList","Search","Layout","Seo","title","Main_SearchPage_SearchPage"],"mappings":"+HAwBeA,UAlBI,SAAAC,GAAS,IAChBC,EAAcD,EAAdC,UACAC,EAAMC,cAAND,EAER,OACIE,EAAAC,EAAAC,cAAA,SACIC,UAAU,cACVC,KAAK,SACLC,YAAaP,EAAE,UACfQ,SAAUT,uDCNhBU,sBACF,SAAAA,EAAYX,GAAO,IAAAY,EAAA,OACfA,EAAAC,EAAAC,KAAAC,KAAMf,IAANe,MACKC,YAAchB,EAAMgB,YACzBJ,EAAKK,YAAcA,EAAYC,KAHhBN,oHAMnBO,0BAAA,SAA0BC,GAAW,IAAAC,EAAAN,KAC3BO,EAAkBC,IAAKC,SACzBC,EAAY,SAEZC,EAAiB,gBAEG,OAApBJ,GACAG,EAAY,SACZC,EAAiB,iBACU,OAApBJ,GACPG,EAAY,SACZC,EAAiB,iBACU,OAApBJ,IACPG,EAAY,SACZC,EAAiB,iBAGrBX,KAAKC,YAAcI,EAAUJ,YAC7BD,KAAKE,YAAcA,EAAYC,KAAKS,OAChC,SAAAC,GAAM,OACFA,EAAOH,GACFI,cACAC,QAAQT,EAAKL,YAAYa,gBAAkB,GAChDD,EAAOG,cAAgBV,EAAKL,aAC5BY,EAAOF,GACFG,cACAC,QAAQT,EAAKL,YAAYa,gBAAkB,IAExB,IAA5Bd,KAAKE,YAAYe,SACjBjB,KAAKE,YAAc,CACf,CACIgB,KAAM,UACNC,OAAQ,2BAMxBC,OAAA,WACI,OACI/B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACTQ,KAAKE,YAAYmB,IAAI,SAAAR,GAAM,OACxBxB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAoB8B,IAAKT,EAAOK,MAC1C7B,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CAAMC,GAAIX,EAAOK,MACb7B,EAAAC,EAAAC,cAACkC,EAAA,EAAD,KAAQZ,EAAOa,iBAnDfC,IAAMC,WA+DlChC,EAAciC,aAAe,CAAE5B,YAAa,IAE7B6B,oBAAkBlC,OCxClBmC,sBA7BX,SAAAA,IAAc,IAAAlC,EAAA,OACVA,EAAAC,EAAAC,KAAAC,aACKgC,MAAQ,CACT/B,YAAa,IAEjBJ,EAAKX,UAAYW,EAAKX,UAAU+C,8HAAfC,CAAArC,IALPA,oHAQdX,UAAA,SAAUiD,GACNA,EAAIC,iBAEJ,IAAMnC,EAAckC,EAAIE,OAAOC,MAC3BrC,IAAgBD,KAAKgC,OACrBhC,KAAKuC,SAAS,CAAEtC,mBAIxBmB,OAAA,WAAS,IACGnB,EAAgBD,KAAKgC,MAArB/B,YAER,OACIZ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkD,SAAA,KACInD,EAAAC,EAAAC,cAACkD,EAAD,CAAYvD,UAAWc,KAAKd,YAC5BG,EAAAC,EAAAC,cAACmD,EAAD,CAAmBzC,YAAaA,SAxBvB0B,IAAMC,6BCchBe,UAXA,WAAM,IACTxD,EAAMC,cAAND,EAER,OACIE,EAAAC,EAAAC,cAACqD,EAAA,EAAD,KACIvD,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAKC,MAAO3D,EAAE,YACdE,EAAAC,EAAAC,cAACwD,EAAD","file":"component---src-pages-search-js-1136466599b247caffa1.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport './search-line.css';\n\nconst SearchLine = props => {\n    const { searchFio } = props;\n    const { t } = useTranslation();\n\n    return (\n        <input\n            className=\"search-line\"\n            type=\"search\"\n            placeholder={t('Search')}\n            onChange={searchFio}\n        />\n    );\n};\n\nSearchLine.propTypes = {\n    searchFio: PropTypes.func.isRequired,\n};\n\nexport default SearchLine;\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport i18n from 'i18next';\nimport { withTranslation, Trans } from 'react-i18next';\n\nimport './photographers-list.css';\nimport personsList from '../../../../info/persons-list.json';\n\nclass Photographers extends React.Component {\n    constructor(props) {\n        super(props);\n        this.searchQuery = props.searchQuery;\n        this.personsList = personsList.data;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const currentLanguage = i18n.language;\n        let searchKey = 'fioRus';\n\n        let searchKeyPlace = 'birthplaceRus';\n\n        if (currentLanguage === 'ru') {\n            searchKey = 'fioRus';\n            searchKeyPlace = 'birthplaceRus';\n        } else if (currentLanguage === 'en') {\n            searchKey = 'fioEng';\n            searchKeyPlace = 'birthplaceEng';\n        } else if (currentLanguage === 'be') {\n            searchKey = 'fioBel';\n            searchKeyPlace = 'birthplaceBel';\n        }\n\n        this.searchQuery = nextProps.searchQuery;\n        this.personsList = personsList.data.filter(\n            person =>\n                person[searchKey]\n                    .toLowerCase()\n                    .indexOf(this.searchQuery.toLowerCase()) > -1 ||\n                person.yearOfBirth === this.searchQuery ||\n                person[searchKeyPlace]\n                    .toLowerCase()\n                    .indexOf(this.searchQuery.toLowerCase()) > -1,\n        );\n        if (this.personsList.length === 0) {\n            this.personsList = [\n                {\n                    link: '/search',\n                    fioRus: 'Ничего не найдено.',\n                },\n            ];\n        }\n    }\n\n    render() {\n        return (\n            <ul className=\"photographers-list\">\n                {this.personsList.map(person => (\n                    <li className=\"photographer-link\" key={person.link}>\n                        <Link to={person.link}>\n                            <Trans>{person.fioEng}</Trans>\n                        </Link>\n                    </li>\n                ))}\n            </ul>\n        );\n    }\n}\n\nPhotographers.propTypes = {\n    searchQuery: PropTypes.string,\n};\nPhotographers.defaultProps = { searchQuery: '' };\n\nexport default withTranslation()(Photographers);\n","import React from 'react';\r\nimport SearchLine from './SearchLine/SearchLine';\r\nimport PhotographersList from './PhotographersList/PhotographersList';\r\n\r\nclass SearchPage extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            searchQuery: '',\r\n        };\r\n        this.searchFio = this.searchFio.bind(this);\r\n    }\r\n\r\n    searchFio(evt) {\r\n        evt.preventDefault();\r\n\r\n        const searchQuery = evt.target.value;\r\n        if (searchQuery !== this.state) {\r\n            this.setState({ searchQuery });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { searchQuery } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <SearchLine searchFio={this.searchFio} />\r\n                <PhotographersList searchQuery={searchQuery} />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchPage;\r\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SearchPage from '../components/Main/SearchPage/SearchPage';\nimport Layout from '../components/CreateLayout/Layout';\nimport SEO from '../components/Seo';\n\nconst Search = () => {\n    const { t } = useTranslation();\n\n    return (\n        <Layout>\n            <SEO title={t('Search')} />\n            <SearchPage />\n        </Layout>\n    );\n};\n\nexport default Search;\n"],"sourceRoot":""}